<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>View My Games</title>
    <meta name="description" content="Look at your completed games">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css">
    <script src="md5.js"></script>
</head>

<body>
    <ul>
        <li><a href="home.html">Home</a></li>
        <!--My Games-->
        <li class="dropdown">
            <a href="javascript:void(0)" class="active dropbtn">My Games</a>
            <div class="dropdown-content">
                <a class="active" style="color: white;" href="myGames.html">View My Games</a>
                <a href="myAnalytics.html">View My Analytics</a>
            </div>
        </li>
        <!--Add A Game-->
        <li><a href="addGame.html">Add A Game</a></li>
        <!--Edit My Games-->
        <li>
            <a href="editGame.html">Edit My Games</a>
        </li>
        <li style="float:right"><a id="signOutButton" href="#">Sign Out</a></li>
    </ul>
    <h1>My Games:</h1>
    <table id="gamesList">
        <tr>
            <th>Comment:</th>
            <th>Date (yyyy-mm-dd):</th>
            <th>Division (Age-Group):</th>
            <th>Gender:</th>
            <th>Referee Position:</th>
        </tr>
    </table>
    <footer>
        <a href="privacyPolicy.html">Privacy Policy</a>
        <a href="termsAndConditions.html">Terms and Conditions</a>
        <p>Copyright &copy; Ayman Studios 2019. All Rights Reserved.&trade;</p>
    </footer>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="/__/firebase/7.2.1/firebase-app.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="/__/firebase/7.2.1/firebase-analytics.js"></script>
    <script src="/__/firebase/7.2.1/firebase-firestore.js"></script>
    <!-- Initialize Firebase -->
    <script src="/__/firebase/init.js"></script>
    <script src="loggedIn.js"></script>
    <script src="signOut.js"></script>
    <script>
        var gamesList = document.querySelector("#gamesList");
        var gameNumber = 0;
        if (gamesReffed === []) {
            function insertAfter(newNode, referenceNode) {
                referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);
            }
            var pNotification = document.createElement("p");
            pNotification.innerHTML = "After you start adding games, they will show up here.";
            insertAfter(pNotification, gamesList);
        }
        gamesReffed.forEach(function(gameObject) {
            var tr = document.createElement("tr");
            tr.setAttribute("gameNumber", gameNumber);
            gameNumber++;
            Object.values(gameObject).forEach(function(gameDetail) {
                var td = document.createElement("td");
                var detail = "";
                var type = "";
                switch (gameDetail) {
                    case "cr":
                        detail = "Center";
                        type = "position"
                        break;
                    case "ar":
                        detail = "Assistant";
                        type = "position";
                        break;
                    case "u8":
                        detail = "U-8";
                        type = "division";
                        break;
                    case "u10":
                        detail = "U-10";
                        type = "division";
                        break;
                    case "u12":
                        detail = "U-12";
                        type = "division";
                        break;
                    case "u14":
                        detail = "U-14";
                        type = "division";
                        break;
                    case "u16":
                        detail = "U-16";
                        type = "division";
                        break;
                    case "boys":
                        detail = "Boys";
                        type = "gender";
                        break;
                    case "girls":
                        detail = "Girls";
                        type = "gender";
                        break;
                    default:
                        //console.log(new Date(gameDetail).toLocaleDateString('en', {year: "numeric", month: "numeric", day: "numeric"}));
                        detail = gameDetail;
                        type = "date";
                }
                td.appendChild(document.createTextNode(detail));
                td.setAttribute("type", type);
                tr.appendChild(td);
            });
            gamesList.appendChild(tr);
        });
    </script>
</body>

</html>